***REMOVED*** 番茄小说内容创作规范 · 代码体现说明

规范文档：`番茄小说内容创作规范.md`  
代码**不会**直接读取该 md 文件，而是通过**主题字符串**和**固定提示词**将规范要求注入到创作流程中。

---

***REMOVED******REMOVED*** 1. 直接体现（主题 theme）

***REMOVED******REMOVED******REMOVED*** 1.1 定义位置：`create_100_chapters_novel.py`

**约第 46–50 行**，`theme` 中浓缩了番茄规范与语言要求：

```python
theme = "AI优化、智能学习、人性探索、自由意志、长期连贯性、悬念结局。创作要求：1) 内容健康积极，避免低俗色情、未成年人负面导向、血腥暴力、敏感政治话题，符合番茄小说内容创作规范；2) 语言通俗易懂，避免复杂科学术语和专业名词，用简单直白的语言表达，保证绝大多数人都能看得爽，即使涉及科技概念也要用生活化的比喻和描述"
```

对应规范要点：
- **避免**：低俗色情、未成年人负面导向、血腥暴力、敏感政治话题
- **符合**：番茄小说内容创作规范
- **语言**：通俗易懂、少专业术语、生活化表达、大多数人能看得爽

该 `theme` 传入 `creator.create_novel(theme=theme, ...)`，后续只通过 `theme` 参与大纲与阶段生成，**不**直接进入章节创作 prompt。

---

***REMOVED******REMOVED*** 2. 大纲生成中的体现（theme 流入）

***REMOVED******REMOVED******REMOVED*** 2.1 一次性大纲：`react_novel_creator.py` · `_create_novel_plan_onetime`

**约第 393–398 行**，prompt 中包含：

```
小说信息：
- 类型：{genre}
- 主题：{theme}
```

`theme` 含番茄规范，因此会约束**整体大纲**的题材与取向。

***REMOVED******REMOVED******REMOVED*** 2.2 渐进式大纲 · 整体：`_generate_overall_outline`

**约第 700–706 行**：

```
小说信息：
- 类型：{genre}
- 主题：{theme}
```

同样通过 `theme` 影响**整体大纲**（背景、角色、主线、结局方向等）。

***REMOVED******REMOVED******REMOVED*** 2.3 渐进式大纲 · 阶段：`_generate_phase_outline`

**约第 854–876 行**：  
阶段大纲的 prompt 使用 `genre` 和 `overall_outline`，不直接写 `theme`。  
但 `overall_outline` 由 `_generate_overall_outline(genre, theme, ...)` 生成，已受 `theme`（含番茄规范）约束，因此**阶段大纲**间接遵循规范。

---

***REMOVED******REMOVED*** 3. 字数控制（番茄爆款数据）

***REMOVED******REMOVED******REMOVED*** 3.1 位置：`react_novel_creator.py` · `create_chapter` 内字数逻辑

**约第 1164–1182 行**：

```python
***REMOVED*** 基于番茄小说爆款数据统计：
***REMOVED*** - 建议范围：1500-3000字
***REMOVED*** - 完美落点：2100字（我们使用2048字）
***REMOVED*** - 目标：2048字（或用户指定）
***REMOVED*** - 下限：1500字（统计建议）
***REMOVED*** - 上限：3000字（统计建议，避免注水）
min_words = 1500  ***REMOVED*** 番茄小说统计建议的下限
***REMOVED*** ...
***REMOVED*** 字数控制提示（基于番茄小说爆款数据统计）
```

这里体现的是**番茄小说字数/爆款统计**，不是《番茄小说内容创作规范》 md 里的审核条款，但同属“番茄”相关规则。

---

***REMOVED******REMOVED*** 4. 章节创作 prompt 中的体现

***REMOVED******REMOVED******REMOVED*** 4.1 语言要求（通俗易懂、少术语）

**位置**：`react_novel_creator.py` · `create_chapter` 的章节 prompt  
**约第 1305–1312 行**（创作要求第 3 条）：

```
3. **语言要求（重要）**：
   - **通俗易懂**：使用简单直白的语言，避免复杂科学术语和专业名词
   - **生活化表达**：即使涉及科技概念，也要用生活化的比喻和描述，让绝大多数人都能理解
   - **避免术语堆砌**：不要使用过多专业术语，如必须使用，要配合简单解释
   - **保证可读性**：语言要流畅自然，让读者看得爽，不要因为术语过多而影响阅读体验
```

这与规范中的**可读性、通俗化**一致，且直接作用于**每章正文**生成。

***REMOVED******REMOVED******REMOVED*** 4.2 章节 prompt 中未直接出现的规范

**章节创作 prompt 里没有**显式写出：
- 避免低俗色情  
- 未成年人负面导向  
- 血腥暴力  
- 敏感政治话题  

这些只通过 `theme` 影响**大纲**（背景、主线、角色设定等），再经**章节摘要**间接约束章节内容，**未**在章节级 prompt 中再次强调。

---

***REMOVED******REMOVED*** 5. 小结

| 规范类型 | 体现位置 | 作用阶段 |
|----------|----------|----------|
| 主题字符串（避免低俗、未成年、暴力、敏感等） | `create_100_chapters_novel.py` 的 `theme` | 大纲生成（整体 + 阶段） |
| 语言通俗、少术语、看得爽 | `react_novel_creator.py` 章节 prompt 第 3 条 | 每章正文创作 |
| 字数 1500–3000、2048 目标 | `react_novel_creator.py` 字数控制逻辑 | 每章字数与截断 |
| 《番茄小说内容创作规范》md | 无代码引用 | 仅作人工参考，未注入代码 |

若希望**审核相关条款**（低俗、未成年、暴力、敏感等）在**章节创作**时也被明确约束，需要在 `create_chapter` 的 prompt 中**新增一段**，例如引用 theme 或直接写明上述规范要点。
